function startup($rootScope,$state,$stateParams){$rootScope.$state=$state,$rootScope.$stateParams=$stateParams}function config($stateProvider,$urlRouterProvider){$urlRouterProvider.when("/","/:account/landing").when("","/:account/landing"),$stateProvider.state("root",{url:"/:account","abstract":!0,resolve:{loadConfig:["GenCovService","$stateParams",function(GenCovService,$stateParams){return GenCovService.getData()}]},views:{}}).state("landing",{parent:"root",url:"/landing",views:{"header@":{templateUrl:"templates/nav.tpl.html",controller:"NavCtrl",controllerAs:"NavCtrl"},"centerCol@":{templateUrl:"templates/landing.tpl.html",controller:"LandingCtrl",controllerAs:"LandingCtrl"}}}).state("kingmaker",{parent:"root",url:"/kingmaker",views:{"centerCol@":{templateUrl:"templates/kingmaker.tpl.html",controller:"KingmakerCtrl",controllerAs:"KingmakerCtrl"}}}).state("combat",{parent:"root",url:"/combat",views:{"centerCol@":{templateUrl:"templates/combat.tpl.html",controller:"CombatCtrl",controllerAs:"CombatCtrl"}}})}function GenCovController($scope,GenCovService,$rootScope){this.canvasOpen=!1;var that=this;$rootScope.$on("$stateChangeStart",function(event,toState,toParams,fromState,fromParams){"combat"===toState.name?that.canvasOpen=!0:that.canvasOpen=!1})}function GenCovService($resource,$state){var data,id,catalog,rest=$resource("/json/catalog.json",null,{query:{method:"get",isArray:!1},update:{method:"PUT"}}),loadData=function(){id&&(data=rest.query({id:id}).$promise.then(dataLoaded))},getData=function(_id){return id="gencov",data||loadData(),data},dataLoaded=function(result){data=result,catalog=setCatalog()},setCatalog=function(){var cat=data.catalog;return cat},getCatalog=function(){return catalog};return{getData:getData,catalog:getCatalog}}function LandingCtrl(GenCovService){this.catalog=GenCovService.catalog()}function NavCtrl(GenCovService){}function catalog(){return{restrict:"E",replace:!0,templateUrl:"templates/directives/catalog.tpl.html",scope:{list:"="},link:function(scope,element){}}}angular.module("GenCov",["ngResource","ui.router"]),startup.$inject=["$rootScope","$state","$stateParams"],config.$inject=["$stateProvider","$urlRouterProvider"],GenCovController.$inject=["$scope","GenCovService","$rootScope"],angular.module("GenCov").run(startup).config(config).controller("GenCovController",GenCovController),GenCovService.$inject=["$resource","$state"],angular.module("GenCov").factory("GenCovService",GenCovService),LandingCtrl.$inject=["GenCovService"],angular.module("GenCov").controller("LandingCtrl",LandingCtrl),NavCtrl.$inject=["GenCovService"],angular.module("GenCov").controller("NavCtrl",NavCtrl),catalog.$inject=[],angular.module("GenCov").directive("catalog",catalog);